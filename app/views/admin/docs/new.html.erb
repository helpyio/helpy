<% title "#{admin_title} #{t(:new_content, default: 'New Content')}" %>

<div class="row">
  <%= simple_form_for([:admin, @doc], validate: true, multipart: true ) do |f| %>
  <div class="col-md-12">
    <h2 class="form-subhead"><%= t(:new_content, default: 'New Content') %></h2>
      <%= render 'shared/error_messages', object: f.object %>
      <%= render :partial => 'form', :object => @doc, :locals => {:f => f} %>
  </div>
  <% end %>
</div>

<script>
var element = document.querySelector("trix-editor");
element.editor.setSelectedRange([0, 0]);
<% if @post.nil? %>
element.editor.insertHTML('<%= @doc.body if @doc.body? %>');
<% else %>
element.editor.insertHTML('<%= @post.body unless @post.nil? %>');
<% end %>
</script>
