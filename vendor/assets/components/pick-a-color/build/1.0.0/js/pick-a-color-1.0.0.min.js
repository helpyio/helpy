/*
* Pick-a-Color JS v1.0.0
* Copyright 2013 Lauren Sperber and Broadstreet Ads
* https://github.com/lauren/pick-a-color/blob/master/LICENSE
*/(function(e){"use strict";e.fn.pickAColor=function(t){var n={white:"fff",red:"f00",orange:"f60",yellow:"ff0",green:"008000",blue:"00f",purple:"800080",black:"000"},r="ontouchstart"in window,i=parseInt(e(window).width(),10)<767?!0:!1,s="localStorage"in window&&window.localStorage!==null&&typeof JSON=="object",o=/*@cc_on!@*/false,u=document.cookie,a=31536e7,f=r?"touchstart.pickAColor":"mousedown.pickAColor",l=r?"touchmove.pickAColor":"mousemove.pickAColor",c=r?"touchend.pickAColor":"mouseup.pickAColor",h=r?"touchend.pickAColor":"click.pickAColor",p="dragging.pickAColor",d="endDrag.pickAColor",v=e.extend({},{showSpectrum:!0,showSavedColors:!0,saveColorsPerElement:!1,fadeMenuToggle:!0,showAdvanced:!0},t),m=v.showSavedColors||v.showAdvanced,g=function(){return e("<div>").addClass("input-prepend input-append pick-a-color-markup").append(e("<span>").addClass("hex-pound").text("#"))},y=function(){var t=e("<div>").addClass("btn-group").append(e("<button>").addClass("btn color-dropdown dropdown-toggle").append(e("<span>").addClass("color-preview current-color")).append(e("<span>").addClass("caret"))),r=e("<div>").addClass("color-menu dropdown-menu");!m&&!v.showSpectrum&&r.addClass("small");if(m){var i=e("<div>").addClass("color-menu-tabs");i.append(e("<span>").addClass("basicColors-tab tab tab-active").append(e("<a>").text("Basic Colors"))),v.showSavedColors&&i.append(e("<span>").addClass("savedColors-tab tab").append(e("<a>").text("Saved Colors"))),v.showAdvanced&&i.append(e("<span>").addClass("advanced-tab tab").append(e("<a>").text("Advanced"))),r.append(i)}var s=e("<div>").addClass("basicColors-content active-content");v.showSpectrum&&s.append(e("<h6>").addClass("color-menu-instructions").text("Tap spectrum or drag band to change color"));var u=e("<ul>").addClass("basic-colors-list");e.each(n,function(t,n){var r=e("<li>").addClass("color-item"),i=e("<a>").addClass(t+" color-link").append(e("<span>").addClass("color-preview "+t)).append(e("<span>").addClass("color-label").text(t));if(v.showSpectrum){var s=e("<span>").addClass("color-box spectrum-"+t);o&&e.each([0,1],function(r){n!=="fff"&&t!=="000"&&s.append(e("<span>").addClass(t+"-spectrum-"+r+" ie-spectrum"))});var a=e("<span>").addClass("highlight-band");e.each([0,1,2],function(){a.append(e("<span>").addClass("highlight-band-stripe"))}),i.append(s.append(a))}u.append(r.append(i))}),r.append(s.append(u));if(v.showSavedColors){var a=e("<div>").addClass("savedColors-content inactive-content");a.append(e("<p>").addClass("saved-colors-instructions").text("Type in a color or use the spectrums to lighten or darken an existing color.")),r.append(a)}if(v.showAdvanced){var f=e("<div>").addClass("advanced-content inactive-content"),l=e("<ul>").addClass("advanced-list"),c=e("<li>").addClass("hue-item").text("Hue: "),h=e("<span>").addClass("color-box spectrum-hue");o&&e.each([0,1,2,3,4,5,6],function(t){h.append(e("<span>").addClass("hue-spectrum-"+t+" ie-spectrum hue"))});var p=e("<span>").addClass("highlight-band");e.each([0,1,2],function(){p.append(e("<span>").addClass("highlight-band-stripe"))}),l.append(c.append(h.append(p)));var d=e("<li>").addClass("lightness-item").text("Lightness: "),g=e("<span>").addClass("color-box spectrum-lightness");o&&e.each([0,1],function(t){g.append(e("<span>").addClass("lightness-spectrum-"+t+" ie-spectrum"))});var y=e("<span>").addClass("highlight-band");e.each([0,1,2],function(){y.append(e("<span>").addClass("highlight-band-stripe"))}),l.append(d.append(g.append(y)));var b=e("<li>").addClass("saturation-item").append("Saturation: "),w=e("<span>").addClass("color-box spectrum-saturation");o&&e.each([0,1],function(t){w.append(e("<span>").addClass("saturation-spectrum-"+t+" ie-spectrum"))});var E=e("<span>").addClass("highlight-band");e.each([0,1,2],function(){E.append(e("<span>").addClass("highlight-band-stripe"))}),l.append(b.append(w.append(E))).append(e("<span>").addClass("color-preview advanced").append("<button class='color-select btn btn-mini advanced' type='button'>Select</button>")),r.append(f.append(l))}return t.append(r),t},b={},w={rowsInDropdown:8,maxColsInDropdown:2};if(v.showSavedColors){var E=[];if(s&&localStorage.allSavedColors)E=JSON.parse(localStorage.allSavedColors);else if(u.match("pickAColorSavedColors-allSavedColors=")){var S=u.split(";");e.each(S,function(e){S[e].match("pickAColorSavedColors-allSavedColors=")&&(E=S[e].split("=")[1].split(","))})}}var x={initialize:function(){var t=e(this),n=t.parents(".pick-a-color-markup");b.defaultColor=t.text()===""?"000":t.text(),b.typedColor=b.defaultColor,t.html(function(){return g().append(function(){return e('<input id="appendedPrependedDropdownButton" type="text" value="'+b.defaultColor+'"/>').addClass("color-text-input")}).append(y())})},updatePreview:function(e){b.typedColor=tinycolor(e.val()).toHex(),e.siblings(".btn-group").find(".current-color").css("background-color","#"+b.typedColor)},pressPreviewButton:function(){var e=arguments[0].thisEvent;e.stopPropagation(),x.toggleDropdown(e.target)},openDropdown:function(t,n){e(".color-menu").each(function(){var t=e(this);if(t.css("display")==="block"){var n=t.parents(".btn-group");x.closeDropdown(n,t)}}),v.fadeMenuToggle&&!r?e(n).fadeIn("fast"):e(n).css("display","block"),e(t).addClass("open")},closeDropdown:function(t,n){v.fadeMenuToggle&&!r?e(n).fadeOut("fast"):e(n).css("display","none"),e(t).removeClass("open")},closeDropdownIfOpen:function(){var e=arguments[0].button,t=arguments[0].menu;t.css("display")==="block"&&x.closeDropdown(e,t)},toggleDropdown:function(t){var n=e(t).parents(".pick-a-color-markup"),r=n.find(".btn-group"),i=n.find(".color-menu");i.css("display")==="none"?x.openDropdown(r,i):x.closeDropdown(r,i)},tabbable:function(){var t=e(this),n=t.parents(".pick-a-color-markup");t.click(function(){var t=e(this),r=t.attr("class").split(" ")[0].split("-")[0]+"-content",i=t.parents(".dropdown-menu").find("."+r);t.hasClass("tab-active")||(n.find(".tab-active").removeClass("tab-active"),n.find(".active-content").removeClass("active-content").addClass("inactive-content"),t.addClass("tab-active"),e(i).addClass("active-content").removeClass("inactive-content"))})},getColorMultiplier:function(t,n){var i=parseInt(e(".color-box").first().width(),10);i===0&&(i=r?160:200);var s=i/2,o=n/i;return t==="bidirectional"?o<=.5?(1-n/s)/2:-((n-s)/s)/2:t==="darkenRight"?-(o/2):o/2},modifyHSLLightness:function(e,t){var n=e;return n.l+=t,n.l=Math.min(Math.max(0,n.l),1),tinycolor(n).toHslString()},getMoveableArea:function(e){var t={},n=e.parent(),r=e.outerWidth(),i=n.width(),s=n.offset();return t.minX=s.left,t.maxX=i-r,t},moveHighlightBand:function(t,n,i){var s=e(".highlight-band").first().outerWidth(),o=s*.75,u=r?i.originalEvent.pageX:i.pageX,a=u-n.minX-o;a=Math.max(0,Math.min(a,n.maxX)),t.css("position","absolute"),t.css("left",a)},horizontallyDraggable:function(){e(this).on(f,function(t){t.preventDefault();var n=e(t.delegateTarget);n.css("cursor","-webkit-grabbing"),n.css("cursor","-moz-grabbing");var r=x.getMoveableArea(n);e(document).on(l,function(e){n.trigger(p),x.moveHighlightBand(n,r,e)}).on(c,function(t){e(document).off(l),e(document).off(p),n.css("cursor","-webkit-grab"),n.css("cursor","-moz-grab"),n.trigger(d),e(document).off(c)})}).on(c,function(t){t.stopPropagation(),e(document).off(l),e(document).off(p)})},modifyHighlightBand:function(e,t,n){var r={h:0,s:0,l:.05},i={h:0,s:0,l:.5},s=-t,o=s*10,u=e.find(".highlight-band-stripe"),a=n==="lightenRight"?x.modifyHSLLightness(i,s):x.modifyHSLLightness(r,s),f=x.modifyHSLLightness(i,o);e.css("border-color",a),u.css("background-color",f)},calculateHighlightedColor:function(){var t=e(this),r=e(".highlight-band").first().outerWidth(),i=r/2,s=arguments[0].type;if(s==="basic"){var o=t.parent(),u=o.attr("class").split("-")[2],a=n[u],f=tinycolor(a).toHsl();switch(a){case"fff":var l="darkenRight";break;case"000":var l="lightenRight";break;default:var l="bidirectional"}}else var f={h:arguments[0].hsl.h,l:arguments[0].hsl.l,s:arguments[0].hsl.s},c=arguments[0].hsl.h,h=arguments[0].hsl.s,l="bidirectional",p=e(this).parents(".advanced-list").find(".color-preview"),d=e(this).parents(".advanced-list").find(".spectrum-hue"),v=e(this).parents(".advanced-list").find(".spectrum-saturation");var m=parseInt(t.css("left"),10)+i,g=x.getColorMultiplier(l,m),y=x.modifyHSLLightness(f,g),b=tinycolor(y).toHex(),w=y.split("(")[1].split(")")[0].split(",")[2].split("%")[0];return w=parseInt(w)/100,s==="basic"?(o.siblings(".color-preview").css("background-color",y),o.prev(".color-label").replaceWith('<button class="color-select btn btn-mini" type="button">Select</button>'),l!=="darkenRight"&&x.modifyHighlightBand(t,g,l)):(p.css("background-color",b),v.attr("style",x.updateSaturationStyles(c,w)),d.attr("style",x.updateHueStyles(h,w)),x.modifyHighlightBand(e(".advanced-content .highlight-band"),g,l)),s==="basic"?tinycolor(y).toHex():w},updateSavedColorPreview:function(t){e.each(t,function(n){var r=e(t[n]),i=r.attr("class");r.find(".color-preview").css("background-color",i)})},updateSavedColorMarkup:function(t,n){n=n?n:E;if(v.showSavedColors&&n.length>0){v.saveColorsPerElement||(t=e(".savedColors-content"),n=E);var r=w.rowsInDropdown*w.maxColsInDropdown;n=n.slice(0,r);var i=e("<ul>").addClass("saved-color-col 0"),s=e("<ul>").addClass("saved-color-col 1");e.each(n,function(t,n){var r=e("<li>").addClass("color-item"),o=e("<a>").addClass(n);o.append(e("<span>").addClass("color-preview")),o.append(e("<span>").addClass("color-label").text(n)),r.append(o),t%2===0?i.append(r):s.append(r)}),t.html(i),t.append(s);var o=e(t).find("a");x.updateSavedColorPreview(o)}},setSavedColorsCookie:function(e,t){var n=new Date,r=new Date(n.getTime()+a);r=r.toGMTString(),typeof t=="undefined"?document.cookie="pickAColorSavedColors-allSavedColors="+e+";expires="+r:document.cookie="pickAColorSavedColors-"+t+"="+e+"; expires="+r},saveColorsToLocalStorage:function(e,t){if(s)if(typeof t=="undefined")try{localStorage.allSavedColors=JSON.stringify(e)}catch(n){localStorage.clear()}else try{localStorage["pickAColorSavedColors-"+t]=JSON.stringify(e)}catch(n){localStorage.clear()}else x.setSavedColorsCookie(e,t)},removeFromArray:function(t,n){e.inArray(n,t)!==-1&&t.splice(e.inArray(n,t),1)},updateSavedColors:function(e,t,n){x.removeFromArray(t,e),t.unshift(e),x.saveColorsToLocalStorage(t,n)},addToSavedColors:function(e,t,n){if(v.showSavedColors){e[0]!="#"&&(e="#"+e),x.updateSavedColors(e,E);if(v.saveColorsPerElement){var r=t.colors,i=t.dataAttr;x.updateSavedColors(e,r,i),x.updateSavedColorMarkup(n,r)}else x.updateSavedColorMarkup(n,E)}},selectFromBasicColors:function(){var t=e(this).find("span:first").css("background-color");t=tinycolor(t).toHex();var n=arguments[0].els,r=arguments[0].savedColorsInfo;e(n.colorTextInput).val(t),x.updatePreview(n.colorTextInput),x.addToSavedColors(t,r,n.savedColorsContent),x.closeDropdown(n.colorPreviewButton,n.colorMenu)},tapSpectrum:function(){var t=arguments[0].thisEvent,n=arguments[0].savedColorsInfo,i=arguments[0].mostRecentClick,s=arguments[0].els;t.stopPropagation();var o=e(this).find(".highlight-band"),u=x.getMoveableArea(o);r?x.moveHighlightBand(o,u,t):x.moveHighlightBand(o,u,t);var a=x.calculateHighlightedColor.apply(o,[{type:"basic"}]);x.addToSavedColors(a,n,s.savedColorsContent),s.touchInstructions.html("Press 'select' to choose this color.")},executeUnlessScrolled:function(){var t=arguments[0].thisFunction,n=arguments[0].theseArguments,i,s;e(this).on(f,function(t){i=e(window).scrollTop(),s=t}).on(h,function(o){var u=i-e(window).scrollTop();if(r&&Math.abs(u)>0)return!1;n.thisEvent=o,n.mostRecentClick=s,t.apply(e(this),[n])})},updateSaturationStyles:function(t,n){var r=(n*100).toString()+"%",i="",s=e.each(["-webkit-linear-gradient","-o-linear-gradient","linear-gradient"],function(e,n){i+="background-image: "+n+"(left,"+"hsl("+t+",0%,"+r+") 0%,"+"hsl("+t+",50%,"+r+") 50%,"+"hsl("+t+",100%,"+r+") 100%);"});return"background-image: -webkit-gradient(linear, left top, right top,color-stop(0, hsl("+t+",0%,"+r+")),"+"color-stop(0.5, hsl("+t+",50%,"+r+")),"+"color-stop(1, hsl("+t+",100%,"+r+")));"+"background-image: -moz-linear-gradient(left center,"+"hsl("+t+",0%,"+r+") 0%,"+"hsl("+t+",50%,"+r+") 50%,"+"hsl("+t+",100%,"+r+") 100%);"+i},updateLightnessStyles:function(t,n,r){var i=(r*100).toString()+"%",s="#"+tinycolor("hsl("+n+","+i+",100%)").toHex(),u="#"+tinycolor("hsl("+n+","+i+",50%)").toHex(),a="#"+tinycolor("hsl("+n+","+i+",0%)").toHex(),f="",l=e.each(["-webkit-linear-gradient","-o-linear-gradient","linear-gradient"],function(e,t){f+="background-image: "+t+"(left,"+s+" 0%,"+u+" 50%,"+a+" 100%);"}),c="filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='"+s+"', endColorstr='"+u+"', GradientType=1);",h="filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='"+u+"', endColorstr='"+a+"', GradientType=1);";f+="background-image: -webkit-gradient(linear, left top, right top,color-stop(0, "+s+"),"+"color-stop(0.5, "+u+"),"+"color-stop(1, hsl("+a+"));"+"background-image: -moz-linear-gradient(left center,"+s+" 0%,"+u+" 50%,"+a+" 100%);";if(o){var p=e(t).find(".lightness-spectrum-0"),d=e(t).find(".lightness-spectrum-1");p.attr("style",c),d.attr("style",h)}else t.attr("style",f)},updateHueStyles:function(t,n){var r=(t*100).toString()+"%",i=(n*100).toString()+"%",s="",o=e.each(["-webkit-linear-gradient","-o-linear-gradient","linear-gradient"],function(e,t){s+="background-image"+t+"(left,"+"hsl(0,"+r+","+i+"); 0%,"+"hsl(60,"+r+","+i+") 17%,"+"hsl(120,"+r+","+i+") 24%,"+"hsl(180,"+r+","+i+") 51%,"+"hsl(240,"+r+","+i+") 68%,"+"hsl(300,"+r+","+i+") 85%,"+"hsl(0,"+r+","+i+") 100%);"});return"background-image: -webkit-gradient(linear, left top, right top,color-stop(0%, hsl(0,"+r+","+i+")),"+"color-stop(17%, hsl(60,"+r+","+i+")),"+"color-stop(34%, hsl(120,"+r+","+i+")),"+"color-stop(51%, hsl(180,"+r+","+i+")),"+"color-stop(68%, hsl(300,"+r+","+i+")),"+"color-stop(85%, hsl(300,"+r+","+i+")),"+"color-stop(100%, hsl(0,"+r+","+i+")));"+"background-image: -moz-linear-gradient(left center,"+"hsl(0,"+r+","+i+") 0%,"+"hsl(60,"+r+","+i+") 17%,"+"hsl(120,"+r+","+i+") 24%,"+"hsl(180,"+r+","+i+") 51%,"+"hsl(300,"+r+","+i+") 68%,"+"hsl(300,"+r+","+i+") 85%,"+"hsl(0,"+r+","+i+") 100%);"+s},getHighlightedHue:function(){var t=e(this).outerWidth(),n=t/2,i=parseInt(e(this).css("left"),10)+n,s=parseInt(e(".color-box").first().width(),10),o=e(this).parents(".advanced-list").find(".color-preview"),u=e(this).parents(".advanced-list").find(".spectrum-lightness"),a=e(this).parents(".advanced-list").find(".spectrum-saturation"),f=arguments[0].l,l=arguments[0].s,c=(l*100).toString()+"%",h=(f*100).toString()+"%";s===0&&(s=r?160:200);var p=Math.floor(i/s*360),d="hsl("+p+","+c+","+h+")";return d=tinycolor(d).toHex(),o.css("background-color",d),x.updateLightnessStyles(u,p,l),a.attr("style",x.updateSaturationStyles(p,f)),p},getHighlightedSaturation:function(){var t=e(this).outerWidth(),n=t/2,i=parseInt(e(this).css("left"),10)+n,s=parseInt(e(".color-box").first().width(),10),o=e(this).parents(".advanced-list").find(".color-preview"),u=e(this).parents(".advanced-list").find(".spectrum-lightness"),a=e(this).parents(".advanced-list").find(".spectrum-hue"),f=arguments[0].l,l=(f*100).toString()+"%",c=arguments[0].h;s===0&&(s=r?160:200);var h=i/s,p=(h*100).toString()+"%",d="hsl("+c+","+p+","+l+")";return d=tinycolor(d).toHex(),o.css("background-color",d),x.updateLightnessStyles(u,hue,currentSaturation),a.attr("style",x.updateHueStyles(h,f)),h}};return this.each(function(){x.initialize.apply(this);var t={colorTextInput:e(this).find("input"),colorMenuLinks:e(this).find(".color-menu li a"),colorPreviewButton:e(this).find(".btn-group"),colorMenu:e(this).find(".color-menu"),colorSpectrums:e(this).find(".color-box"),basicSpectrums:e(this).find(".basicColors-content .color-box"),touchInstructions:e(this).find(".color-menu-instructions"),highlightBands:e(this).find(".highlight-band"),basicHighlightBands:e(this).find(".basicColors-content .highlight-band"),hueSpectrum:e(this).find(".spectrum-hue"),lightnessSpectrum:e(this).find(".spectrum-lightness"),saturationSpectrum:e(this).find(".spectrum-saturation"),hueHighlightBand:e(this).find(".spectrum-hue .highlight-band"),lightnessHighlightBand:e(this).find(".spectrum-lightness .highlight-band"),saturationHighlightBand:e(this).find(".spectrum-saturation .highlight-band"),advancedPreview:e(this).find(".advanced-content .color-preview")},n,i;m&&(t.tabs=e(this).find(".tab"));if(v.showSavedColors){t.savedColorsContent=e(this).find(".savedColors-content");if(v.saveColorsPerElement){var o={colors:[],dataObj:e(this).data()};e.each(o.dataObj,function(e){o.dataAttr=e});if(s&&localStorage["pickAColorSavedColors-"+o.dataAttr])o.colors=JSON.parse(localStorage["pickAColorSavedColors-"+o.dataAttr]);else if(u.match(o.dataAttr)){var a=u.split(";");for(var f=0;f<a.length;f++)a[f].match(o.dataAttr)&&(o.colors=a[f].split("=")[1].split(","))}else o.colors=E}}if(v.showAdvanced)var l={h:0,s:1,l:.5};x.addToSavedColors(b.defaultColor,o,t.savedColorsContent),x.updatePreview(t.colorTextInput),t.colorTextInput.focus(function(){var n=e(this);b.typedColor=n.val(),n.val(""),x.openDropdown(t.colorPreviewButton,t.ColorMenu)}).blur(function(){var n=e(this);b.newValue=n.val(),b.newValue.match(/^\s+$|^$/)?n.val(b.typedColor):(b.newValue=tinycolor(b.newValue).toHex(),n.val(b.newValue),x.addToSavedColors(b.newValue,o,t.savedColorsContent)),x.updatePreview(n)}),x.executeUnlessScrolled.apply(t.colorPreviewButton,[{thisFunction:x.pressPreviewButton,theseArguments:{}}]),x.executeUnlessScrolled.apply(e(document),[{thisFunction:x.closeDropdownIfOpen,theseArguments:{button:t.colorPreviewButton,menu:t.colorMenu}}]),t.colorMenu.on(h,function(e){e.stopPropagation()}),t.colorTextInput.on(h,function(e){e.stopPropagation()}),x.executeUnlessScrolled.apply(t.colorMenuLinks,[{thisFunction:x.selectFromBasicColors,theseArguments:{els:t,savedColorsInfo:o}}]),m&&x.tabbable.apply(t.tabs),v.showSpectrum&&(x.executeUnlessScrolled.apply(t.colorSpectrums,[{thisFunction:x.tapSpectrum,theseArguments:{savedColorsInfo:o,els:t}}]),x.horizontallyDraggable.apply(t.highlightBands),e(t.basicHighlightBands).on(p,function(e){var t=e.target;x.calculateHighlightedColor.apply(this,[{type:"basic"}])}).on(d,function(e){var n=e.delegateTarget,r=x.calculateHighlightedColor.apply(n,[{type:"basic"}]);x.addToSavedColors(r,o,t.savedColorsContent)})),v.showAdvanced&&(e(t.hueHighlightBand).on(p,function(e){l.h=x.getHighlightedHue.apply(this,[l])}),e(t.lightnessHighlightBand).on(p,function(){x.calculateHighlightedColor.apply(this,[{type:"advanced",hsl:l}])}).on(c,function(){l.l=x.calculateHighlightedColor.apply(this,[{type:"advanced",hsl:l}])}),e(t.saturationHighlightBand).on(p,function(){x.getHighlightedSaturation.apply(this,[l])}).on(d,function(){l.s=x.getHighlightedSaturation.apply(this,[l])}),e(t.lightnessSpectrum).on("mousedown",function(t){t.stopPropagation();var n=e(this).find(".highlight-band"),i=x.getMoveableArea(n);r?x.moveHighlightBand(n,i,t):x.moveHighlightBand(n,i,t),x.calculateHighlightedColor.apply(n,[{type:"advanced",hsl:l}])}),e(t.hueSpectrum).click(function(t){t.stopPropagation();var n=e(this).find(".highlight-band"),i=x.getMoveableArea(n);r?x.moveHighlightBand(n,i,t):x.moveHighlightBand(n,i,t),l.h=x.getHighlightedHue.apply(n,[l])}),e(t.saturationSpectrum).click(function(t){t.stopPropagation();var n=e(this).find(".highlight-band"),i=x.getMoveableArea(n);r?x.moveHighlightBand(n,i,t):x.moveHighlightBand(n,i,t),l.s=x.getHighlightedSaturation.apply(n,[l])}),e(t.advancedPreview).click(function(){var n=tinycolor(e(this).css("background-color")).toHex();e(t.colorTextInput).val(n),x.updatePreview(t.colorTextInput),x.addToSavedColors(n,o,t.savedColorsContent),x.closeDropdown(t.colorPreviewButton,t.colorMenu)})),v.showSavedColors&&(e(t.savedColorsContent).click(function(n){var r=e(n.target);if(r.is("SPAN")||r.is("A")){var i=r.is("SPAN")?r.parent().attr("class").split("#")[1]:r.attr("class").split("#")[1];e(t.colorTextInput).val(i),x.updatePreview(t.colorTextInput),x.closeDropdown(t.colorPreviewButton,t.colorMenu),x.addToSavedColors(i,o,t.savedColorsContent)}}),v.saveColorsPerElement?v.saveColorsPerElement&&x.updateSavedColorMarkup(t.savedColorsContent,o.colors):x.updateSavedColorMarkup(t.savedColorsContent,E))})}})(jQuery);